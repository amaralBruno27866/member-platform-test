<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Insurance Report - Provider Notification</title>
  </head>
  <body>
    <div style="font-family: Arial, sans-serif; max-width: 720px; margin: 0 auto; padding: 24px;">
      <h2 style="color: #1e293b; margin-bottom: 12px;">Insurance Report - 24h Summary</h2>
      <p style="color: #475569; line-height: 1.6; margin-top: 0;">Hello Insurance Provider,</p>
      <p style="color: #475569; line-height: 1.6;">
        Please find attached the JSON report containing all insurance records generated in the last 24 hours.
        This payload is signed using HMAC-SHA256 for integrity verification.
      </p>

      <div style="background-color: #f8fafc; padding: 16px; margin: 20px 0; border-radius: 8px; border: 1px solid #e2e8f0;">
        <h3 style="color: #334155; margin-top: 0; font-size: 16px;">Report Metadata</h3>
        <ul style="margin: 0; padding-left: 20px; color: #475569;">
          <li><strong>Report ID:</strong> {{reportId}}</li>
          <li><strong>Generated At:</strong> {{generatedAt}}</li>
          <li><strong>Period Start:</strong> {{summary.periodStart}}</li>
          <li><strong>Period End:</strong> {{summary.periodEnd}}</li>
          <li><strong>Total Records:</strong> {{summary.totalRecords}}</li>
          <li><strong>Total Amount:</strong> ${{summary.totalAmount}}</li>
          <li><strong>Signature Algorithm:</strong> {{signatureAlgorithm}}</li>
          <li><strong>Signature:</strong> {{signature}}</li>
        </ul>
      </div>

      <div style="background-color: #fef3c7; border: 1px solid #fcd34d; padding: 16px; margin: 20px 0; border-radius: 8px;">
        <h3 style="color: #92400e; margin-top: 0; font-size: 16px;">üîê Signature Verification Instructions</h3>
        <ol style="margin: 0; padding-left: 20px; color: #475569; font-size: 14px;">
          <li><strong>Parse</strong> the attached JSON file.</li>
          <li><strong>Extract</strong> the <code style="background-color: #f3f4f6; padding: 2px 6px; border-radius: 3px;">signature</code> and <code style="background-color: #f3f4f6; padding: 2px 6px; border-radius: 3px;">signedAt</code> fields (save them).</li>
          <li><strong>Remove</strong> both fields from the JSON object.</li>
          <li><strong>Compute</strong> HMAC-SHA256 digest of the modified JSON using your shared secret key.</li>
          <li><strong>Compare</strong> your computed digest with the extracted <code style="background-color: #f3f4f6; padding: 2px 6px; border-radius: 3px;">signature</code>.</li>
          <li>If they match, the report is authentic and unmodified ‚úÖ</li>
        </ol>
      </div>

      <p style="color: #475569; line-height: 1.6;">
        If you have any issues processing this report, please contact the OSOT technical team.
      </p>

      <hr style="margin: 28px 0;" />
      <p style="color: #666; font-size: 12px;">This is an automated message from OSOT Insurance System.</p>
    </div>
  </body>
</html>
